function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}!function(){"use strict";var r={touchClick:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchstart":"click",mouseRadius:160,particles:[],canvas:document.getElementById("canvas"),shark:document.getElementById("shark")},t={count:2500,size:3,minSpeed:50,maxSpeed:150,startOrigin:{x:void 0,y:void 0}},c=function(){function n(i,t,e){_classCallCheck(this,n),this.position={x:i||0,y:t||0},this.radius=e||1,this.direction=this.position,this.speed=1,this.spotlightTimeStamp=void 0,this.moving=!1,this.run=!1,this.running=!1}return _createClass(n,[{key:"stop",value:function(){this.moving=!1,this.spotlightTimeStamp=void 0,this.direction=this.position}},{key:"move",value:function(i,t,e){this.moving=!0,this.spotlightTimeStamp=void 0;var n=i-this.position.x,o=t-this.position.y,s=Math.sqrt(n*n+o*o);this.direction={x:i,y:t,distance:s,sin:o/s,cos:n/s},this.startPoint=this.position,this.speed=e||1}},{key:"getPosition",value:function(i){var t,e,n,o=i/1e3;return 1==this.moving&&(this.spotlightTimeStamp?(t=(o-this.spotlightTimeStamp)*this.speed,e=this.direction.sin*t,n=this.direction.cos*t,this.position={x:n+this.startPoint.x,y:e+this.startPoint.y},t>this.direction.distance&&(this.moving=!1,this.spotlightTimeStamp=void 0,this.position=this.direction),this.checkCollision(this.position.x,this.position.y,r.mouseX,r.mouseY,r.mouseRadius)&&!this.running&&(this.run=!0,this.moving=!1,this.spotlightTimeStamp=void 0)):this.spotlightTimeStamp=o,this.position)}},{key:"getDestination",value:function(){var i={};return this.running=!1,this.run?(this.running=!0,0<r.mouseX-this.position.x?i.x=Math.random()*(this.position.x-r.mouseRadius-1)+1:i.x=Math.random()*(r.width-(this.position.x-r.mouseRadius))+(this.position.x-r.mouseRadius),0<r.mouseY-this.position.y?i.y=Math.random()*(this.position.y-r.mouseRadius-1)+1:i.y=Math.random()*(r.height-(this.position.y-r.mouseRadius))+(this.position.y-r.mouseRadius),i.speed=t.maxSpeed):(i.x=Math.random()*r.width,i.y=Math.random()*r.height,i.speed=Math.random()*(t.maxSpeed/2)+t.minSpeed),i}},{key:"checkCollision",value:function(i,t,e,n,o){return(i-e)*(i-e)+(t-n)*(t-n)<(o*=o)}}]),n}();function o(i){if(window.requestAnimationFrame(o),r.width!==r.canvas.width&&(r.canvas.width=r.width),r.height!==r.canvas.height&&(r.canvas.height=r.height),r.particles)for(var t=0;t<r.particles.length;t++){var e,n=r.particles[t];n.getPosition(i)||(e=n.getDestination(),n.move(e.x,e.y,e.speed),n.run=!1)}!function(){if(r.ctx.globalCompositeOperation="destination-out",r.ctx.fillStyle="rgba(0,0,0,0.1)",r.ctx.fillRect(0,0,r.width,r.height),r.ctx.globalCompositeOperation="source-over",r.ctx.fillStyle="rgba(48,69,48,1)",r.particles)for(var i=0;i<r.particles.length;i++){var t=r.particles[i];r.ctx.beginPath(),r.ctx.arc(t.position.x,t.position.y,t.radius,0,2*Math.PI,!1),r.ctx.closePath(),r.ctx.fill()}}()}function i(){if(r.width=r.canvas.width=window.innerWidth,r.height=r.canvas.height=window.innerHeight,r.particles)for(var i=0;i<r.particles.length;i++)r.particles[i].position.x>r.width&&(r.particles[i].stop(),r.particles[i].position.x=r.width),r.particles[i].position.y>r.height&&(r.particles[i].stop(),r.particles[i].position.y=r.height)}function e(){i(),r.ctx=r.canvas.getContext("2d"),function(i,t,e,n){for(var o=0;o<i;o++){var s=e||Math.random()*window.innerWidth,a=n||Math.random()*window.innerHeight,h=new c(s,a,t);r.particles.push(h)}}(t.count,t.size,t.startOrigin.x,t.startOrigin.y),o()}function n(){r.shark.style.top=r.mouseY-r.shark.clientHeight/2+"px",r.shark.style.left=r.mouseX-r.shark.clientWidth/2+"px"}function s(i){var t=r.canvas.getBoundingClientRect();r.mouseX=i.clientX-t.left,r.mouseY=i.clientY-t.top,n()}function a(i){var t=r.canvas.getBoundingClientRect(),e=i.originalEvent.touches[0]||i.originalEvent.changedTouches[0];r.mouseX=e.pageX-t.left,r.mouseY=e.pageY-t.top,n()}function h(){e(),window.addEventListener("resize",i,!1),"click"==r.touchClick?window.addEventListener("mousemove",s):window.addEventListener("mousemove",a)}document.addEventListener("DOMContentLoaded",function(i){h()})}();